## 什么是传统通信

BIO 通信模式：阻塞式的通信模式

阻塞：线程在执行其中的 IO 通信业务的时候，你没有执行完整的结果，那么我们线程不切换到其他的任务当中。



### 弊端

高并发的情况下，这样的通信模式极大的占用线程资源，因为不断的创建和销毁线程，会导致服务器响应缓慢，任务队列超时甚至丢失。



## NIO 的通信模式

### 什么是NIO

一种非阻塞式通信模式，线程在执行这个通信业务过程中，如果有一个环节没有准备好，那么线程可以去执行其他任务，线程占用的情况大幅度释放。



### 优势

- 硬件优势
  - Buffer：缓冲，将会极大的提高我们的吞吐量
  - Channel：通道，里面封装了 Socket ，传输无缝化整合，双向通信
- 软件优势
  - Selector：第三方的注册事件信息模块，各个客户端的通信事件将注册在上面，然后加上服务端线程不断去轮询 Selector 上面注册的客户端的信息事件（一个线程维护多个客户端通过 Selector 实现）
  - SelectorKey：上面注册的客户端的信息事件，包含客户端的通道信息，且标识这个客户端处理通信当中的哪个事件

总结

- NIO 基于事件驱动模型，占用服务器资源大大减少
- 缓冲区配上高速通道大大提高传输效率和吞吐量
- 一个线程维护多个客户端（服务器会起一个线程维护多个客户端的通信事件，通过事件标签来驱动处理模块执行业务）



### Netty

- 相较于 NIO ，缓冲区的改善，不需要手动切换标志位来进行读写
- 线程池对应多个 Selector
- 线程池模型：Reactor 模式，内部调用和外部接收通信的调度
- 辅助启动类的构建启动：BootStrap
- 半包粘包处理
- 。。。



